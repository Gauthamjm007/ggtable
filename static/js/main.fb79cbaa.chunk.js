(this.webpackJsonpggtable=this.webpackJsonpggtable||[]).push([[0],{126:function(e,t,n){},213:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(14),s=n.n(i),r=n(21),l=n(47),d=n(11),o=n(10),u=n(13),j=n(31),b=n.n(j),p=function(e){return+(Math.round(e+"e+2")+"e-2")},f=function(e){return isNaN(e)?e:e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},h=function(e,t){var n,a=b.a.parse(e);return a=Object(o.a)(Object(o.a)({},a),t),a=Object.entries(a).reduce((function(e,t){var n=Object(u.a)(t,2),a=n[0],c=n[1];return c?(e[a]=c,e):e}),{}),(null===Object||void 0===Object||null===(n=Object.keys(a))||void 0===n?void 0:n.length)?b.a.stringify(a,{arrayFormat:"comma"}):""},O=function(e,t,n,a){var c;return 0!==(null===e||void 0===e?void 0:e.length)&&0!==(null===(c=Object.keys(t))||void 0===c?void 0:c.length)&&n&&a?e.map((function(e){return e[n]===a?Object(o.a)(Object(o.a)({},e),t):Object(o.a)({},e)})):(console.error("required fields are missing for updateArrayOfObj"),[])},m=function(){return Date.now()},v=function(e){var t={data:{},nextCleanup:(new Date).getTime()+1728e6};try{var n=localStorage.getItem(e);n&&(t=JSON.parse(n))}catch(a){console.error(a.message)}return t},y=function(e,t,n){var a=864e5*n,c=v(e),i=c.data,s={id:e,expiry:(new Date).getTime()+a,data:t};i[e]=s;try{localStorage.setItem(e,JSON.stringify(c))}catch(r){!function(e,t,n){var a,c,i;for(var s in e){var r=e[s].expiry;r&&r<=m()&&(delete e[s],a=!0),(!c||c>r)&&(c=r,i=s)}!a&&i&&delete e[i],localStorage.setItem(t,JSON.stringify({data:e,nextCleanup:m()+n}))}(i,e,a)}},x=function(e,t,n){var a,c,i,s;return n=n?n.toLowerCase():"",e=null!==(a=e)&&void 0!==a?a:[],t=null!==(c=t)&&void 0!==c?c:"",e&&0!==(null===(i=e)||void 0===i?void 0:i.length)?null===(s=e)||void 0===s?void 0:s.filter((function(e){var a,c;return null===e||void 0===e||null===(a=e[t])||void 0===a||null===(c=a.toLowerCase())||void 0===c?void 0:c.includes(n)})):[]},g=n(90),A=n.n(g).a.create();A.defaults.baseURL="".concat("http://go-dev.greedygame.com/v3/dummy/");var k=A,N=function(e,t){return new Promise((function(n,a){k({method:"GET",url:e,params:t}).then((function(e){n(e)})).catch((function(e){a(e)}))}))},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n,a="/report"+b.a.stringify(e);if(v(a).data&&(null===(n=Object.keys(v(a).data))||void 0===n?void 0:n.length)){var c=v(a).data[a].data;t(M(c))}else N("/report",e).then((function(e){var n,c=null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{date:e.date,revenue:p(e.revenue),fill_rate:p(e.requests/e.responses*100),ctr:p(e.clicks/e.impressions*100)})}));y(a,c,e.cache_time),t(M(c))}))}},M=function(e){return{type:"SET_ANALYTICS",payload:e}},_=function(e){return{type:"SET_APPS",payload:e}},w=(n(126),n(48)),S=n(20),I=n(91),D=n(216),R=n(217),F=n(218),W=n(219),E=n(92),T=n.n(E),P=n(29),U=n.n(P),L=n.p+"static/media/drawing.b43fc638.svg",q=n(25),H=n.n(q),V=n(2);function G(){return Object(V.jsx)("div",{className:"sideBar"})}function Y(){return Object(V.jsx)("div",{className:"noDataWrapper",children:Object(V.jsxs)("div",{className:"noData",children:[Object(V.jsx)("span",{children:Object(V.jsx)("img",{src:L,alt:"drawing"})}),Object(V.jsx)("span",{children:Object(V.jsx)("div",{className:"dataList",children:Object(V.jsxs)("ul",{className:"listUnstyled",children:[Object(V.jsx)("li",{children:Object(V.jsxs)("h2",{className:"heading2",children:["Hey! Something\u2019s off! ",Object(V.jsx)("br",{}),"We couldn\u2019t display the given data."]})}),Object(V.jsx)("li",{children:Object(V.jsx)("p",{className:"heading4",children:"Try changing your your filters or selecting a different date."})})]})})})]})})}function B(e){var t=e.className,n=e.children,a=e.onClick;return Object(V.jsx)("button",{className:t,onClick:a,children:n})}function K(e){var t=e.className,n=e.onClick,a=e.children,c=e.iconName;return Object(V.jsxs)("span",{className:t,onClick:n,children:[Object(V.jsx)(U.a,{name:c,style:{color:"#136FED"}}),Object(V.jsxs)("span",{className:"text",children:[" ",a," "]})]})}K.defaultProps={className:"iconBtn",onClick:function(){},iconName:""};var Q=function(e){var t=e.onClickAway,n=e.children,c=Object(a.useRef)(null);return function(e,t){Object(a.useEffect)((function(){function n(n){e.current&&(null===n||void 0===n?void 0:n.target)&&!e.current.contains(null===n||void 0===n?void 0:n.target)&&t()}return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}}),[e])}(c,t),Object(V.jsx)("div",{ref:c,children:n})};function J(e){var t=e.children,n=e.onClick,a=e.active,c=e.notAllowed;return Object(V.jsx)("div",{className:"filterOption ".concat(a?"active":""," ").concat(c?"notAllowed":""),onClick:n,children:Object(V.jsx)("div",{className:"iconBtn",children:t})})}var X=n(57);function z(e){var t=e.handleClose,n=e.tableHeaders,c=e.handleUpdateHeader,i=Object(a.useState)([]),s=Object(u.a)(i,2),r=s[0],l=s[1];Object(a.useEffect)((function(){(null===n||void 0===n?void 0:n.length)?l(n):l([])}),[n]);var d=Object(a.useCallback)((function(e,t){var n=O(r,{show:!t},"key",e);l(n)}),[r]);return Object(V.jsxs)("div",{className:H.a.analyticsSettingsWrapper,children:[Object(V.jsx)("h6",{className:"paragraph",children:"Dimension and Metrics"}),Object(V.jsx)("div",{className:H.a.filterOptions,children:Object(V.jsx)("ul",{className:"listInline",children:Object(V.jsx)(X.a,{onDragEnd:function(e){if(e.destination){var t=function(e,t,n){var a=Array.from(e),c=a.splice(t,1),i=Object(u.a)(c,1)[0];return a.splice(n,0,i),a}(r,e.source.index,e.destination.index);l(t)}},children:Object(V.jsx)(X.c,{droppableId:"droppable",direction:"horizontal",children:function(e,t){return Object(V.jsx)("div",Object(o.a)(Object(o.a)({ref:e.innerRef},e.droppableProps),{},{children:r.map((function(e,t){return Object(V.jsx)(X.b,{draggableId:e.key,index:t,children:function(t,n){return Object(V.jsx)("li",Object(o.a)(Object(o.a)(Object(o.a)({className:"listInlineItem mr16",ref:t.innerRef,style:(n.isDragging,a=t.draggableProps.style,Object(o.a)({},a))},t.draggableProps),t.dragHandleProps),{},{children:Object(V.jsx)(J,{onClick:function(){["app_id","date"].includes(e.key)?alert("Cannot remove app name or date"):d(e.key,e.show)},notAllowed:["app_id","date"].includes(e.key),active:e.show,children:e.label})}),e.key);var a}},e.key)}))}))}})})})}),Object(V.jsx)("div",{className:H.a.btnGroupWrapper,children:Object(V.jsxs)("ul",{className:"listInline",children:[Object(V.jsx)("li",{className:"listInlineItem mr16",children:Object(V.jsx)(B,{className:"secondaryBtn",onClick:function(){t(!1)},children:"Close"})}),Object(V.jsx)("li",{className:"listInlineItem",children:Object(V.jsx)(B,{className:"primaryBtn",onClick:function(){c(r)},children:"Apply Changes"})})]})})]})}function Z(e){var t=e.apps,n=e.handleUpdateAppFilter,c=e.appFilterArray,i=Object(a.useState)([]),s=Object(u.a)(i,2),r=s[0],l=s[1],d=Object(a.useState)(""),j=Object(u.a)(d,2),b=j[0],p=j[1],f=Object(a.useState)(!1),h=Object(u.a)(f,2),m=h[0],v=h[1];Object(a.useEffect)((function(){if(null===t||void 0===t?void 0:t.length){var e=t.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{selected:c.includes(e.app_id)})}));l(e)}else l([])}),[t,c]);var y=Object(a.useMemo)((function(){return r.filter((function(e){return e.selected})).map((function(e){return e.app_id}))}),[r]);return Object(V.jsx)("div",{className:"appFilter",children:Object(V.jsxs)(Q,{onClickAway:function(){v(!1)},children:[Object(V.jsx)(U.a,{name:"filter",size:"2x",style:{color:"#707070",cursor:"pointer"},onClick:function(){v(!m)}}),m&&Object(V.jsxs)("div",{className:"appFilterWrapper",children:[Object(V.jsxs)("div",{className:"header",children:[Object(V.jsx)("p",{className:"paragraph",children:"Select App"}),Object(V.jsx)("input",{type:"text",value:b,placeholder:"Search",onChange:function(e){return p(e.target.value)}})]}),Object(V.jsx)("div",{className:"filterList",children:Object(V.jsx)("ul",{className:"listUnstyled",children:x(r,"app_name",b).map((function(e){return Object(V.jsx)("li",{className:"listInlineItem",onClick:function(){return function(e,t){var n=O(r,{selected:!t},"app_id",e);l(n)}(e.app_id,e.selected)},children:Object(V.jsx)("span",{className:"filterItem paragraph ".concat(e.selected?"active":""),children:e.app_name})},e.app_id)}))})}),Object(V.jsx)("div",{className:"btnGroupWrapper",children:Object(V.jsxs)("ul",{className:"listInline",children:[Object(V.jsx)("li",{className:"listInlineItem mr16",children:Object(V.jsx)(B,{className:"secondaryBtn",onClick:function(){n([]),v(!1)},children:"Reset"})}),Object(V.jsx)("li",{className:"listInlineItem",children:Object(V.jsxs)(B,{className:"primaryBtn ",onClick:function(){n(y),v(!1)},children:["Apply"," "]})})]})})]})]})})}n(143);var $=n(68),ee=(0,$.a.createSliderWithTooltip)($.a.Range);function te(e){var t=e.id,n=e.handleUpdateTableRangeFilter,c=e.min,i=e.max,s=e.filter_min,r=e.filter_max,l=Object(a.useState)([0,0]),d=Object(u.a)(l,2),o=d[0],j=d[1],b=Object(a.useState)(""),p=Object(u.a)(b,2),h=(p[0],p[1],Object(a.useState)(!1)),O=Object(u.a)(h,2),m=O[0],v=O[1];Object(a.useEffect)((function(){j(s>-1&&r>-1?[s,r]:[c,i])}),[c,i,s,r]);var y=Object(a.useMemo)((function(){return r!==i||s!==c}),[r,s,c,i]);return Object(V.jsx)("div",{className:"appFilter",children:Object(V.jsxs)(Q,{onClickAway:function(){v(!1)},children:[Object(V.jsx)(U.a,{name:"filter",size:"2x",style:{color:y?"#136FED":"#707070",cursor:"pointer"},onClick:function(){v(!m)}}),m&&Object(V.jsxs)("div",{className:"appFilterWrapper",children:[Object(V.jsxs)("div",{className:"requestRange",children:[Object(V.jsx)(ee,{onChange:function(e){j(Object(S.a)(e))},min:c,railStyle:{color:"#fff1f1 !important"},max:i,value:o,defaultValue:[0,100],tipFormatter:function(e){return"".concat(e)}}),Object(V.jsxs)("ul",{className:"listInlineAway",children:[Object(V.jsx)("li",{className:"paragraph",children:f(o[0])}),Object(V.jsx)("li",{className:"paragraph",children:f(o[1])})]})]}),Object(V.jsx)("div",{className:"btnGroupWrapper",children:Object(V.jsxs)("ul",{className:"listInline",children:[Object(V.jsx)("li",{className:"listInlineItem mr16",children:Object(V.jsx)(B,{className:"secondaryBtn",onClick:function(){n(t,{min:c,max:i}),v(!1)},children:"Reset"})}),Object(V.jsx)("li",{className:"listInlineItem",children:Object(V.jsxs)(B,{className:"primaryBtn",onClick:function(){n(t,{min:o[0],max:o[1]}),v(!1)},children:["Apply"," "]})})]})})]})]})})}var ne=[{key:"date",label:"Date",suffix:"",prefix:"",show:!0,id:"1"},{key:"app_id",label:"App",suffix:"",prefix:"",show:!0,id:"2"},{key:"requests",label:"Requests",suffix:"M",prefix:"",show:!0,id:"3"},{key:"responses",label:"Responses",suffix:"M",prefix:"",show:!0,id:"4"},{key:"impressions",label:"Impressions",suffix:"M",prefix:"",show:!0,id:"5"},{key:"clicks",label:"Clicks",suffix:"M",prefix:"",show:!0,id:"6"},{key:"revenue",label:"Revenue",suffix:"K",prefix:"$",show:!0,id:"7"},{key:"fill_rate",label:"Fill rate",suffix:"%",prefix:"",show:!0,id:"8"},{key:"ctr",label:"CTR",suffix:"%",prefix:"",show:!0,id:"9"}],ae=["responses","impressions","clicks","revenue","requests","fill_rate","ctr"];var ce=[{path:["/analytics","/"],component:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};function n(){return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)("aside",{children:Object(V.jsx)(G,{})}),Object(V.jsx)("main",{children:Object(V.jsx)("div",{children:Object(V.jsx)(e,Object(o.a)({},t))})})]})}return Object(d.h)(n)}((function(){var e=Object(r.c)(),t=Object(d.g)().search,n=Object(d.f)(),c=Object(a.useState)([Object(D.a)(new Date),Object(R.a)(new Date)]),i=Object(u.a)(c,2),s=i[0],l=i[1],j=Object(a.useState)(!1),O=Object(u.a)(j,2),m=O[0],v=O[1],y=Object(a.useState)(ne),x=Object(u.a)(y,2),g=x[0],A=x[1],k=Object(a.useState)({}),N=Object(u.a)(k,2),M=N[0],_=N[1],E=Object(a.useState)(!1),P=Object(u.a)(E,2),L=P[0],q=P[1],G=Object(a.useState)([]),Q=Object(u.a)(G,2),J=Q[0],X=Q[1],$=Object(r.d)((function(e){return e.apps})),ee=Object(r.d)((function(e){return e.analytics}));Object(a.useEffect)((function(){if(t){var a=b.a.parse(t);if((null===a||void 0===a?void 0:a.start_date)&&(null===a||void 0===a?void 0:a.end_date)){var c=Object(F.a)(null===a||void 0===a?void 0:a.start_date,"yyyy-MM-dd",new Date).toString(),i=Object(F.a)(null===a||void 0===a?void 0:a.end_date,"yyyy-MM-dd",new Date).toString();e(C({startDate:null===a||void 0===a?void 0:a.start_date,endDate:null===a||void 0===a?void 0:a.end_date})),new Date(c)!==(null===a||void 0===a?void 0:a.start_date)&&new Date(i)!==(null===a||void 0===a?void 0:a.end_date)&&l([new Date(c),new Date(i)])}if((null===a||void 0===a?void 0:a.show_headers)&&(null===a||void 0===a?void 0:a.order)){var s=a.show_headers,r=a.order;s=s.split(",");var d=(r=r.split(",")).map((function(e){return ne.find((function(t){return t.id===e}))}));d=d.map((function(e){var t;return Object(o.a)(Object(o.a)({},e),{},{show:null===(t=s)||void 0===t?void 0:t.includes(e.id)})})),A(d)}else{var u=ne.map((function(e){return e.id})).join(","),j=h(t,{order:u,show_headers:u});n.push({search:j})}}else{var p=Object(W.a)(Object(D.a)(new Date),"yyyy-MM-dd"),f=Object(W.a)(Object(R.a)(new Date),"yyyy-MM-dd");e(C({startDate:p,endDate:f}));var O=h(t,{start_date:p,end_date:f});n.push({search:O})}}),[t]);var ce=Object(a.useMemo)((function(){var e,t={},n=Object(I.a)($);try{for(n.s();!(e=n.n()).done;){var a=e.value;t[a.app_id]=a.app_name}}catch(c){n.e(c)}finally{n.f()}return t}),[$]),ie=Object(a.useMemo)((function(){var e={};return ne.forEach((function(t){if(ae.includes(t.key)){var n=ee.map((function(e){return isNaN(Math.round(e[t.key]))?0:Math.round(e[t.key])})),a=n.reduce((function(e,t){return e+t}),0),c=Math.max.apply(Math,Object(S.a)(n));e[t.key]={sum:a,min:0,max:c}}if(["requests","responses","clicks","impressions"].includes(t.key)){e[t.key].sum="".concat(p(e[t.key].sum/1e6)," ").concat(t.suffix)}if(["revenue"].includes(t.key)){e[t.key].sum="".concat(t.prefix).concat(Math.round(e[t.key].sum/1e3)).concat(t.suffix)}["fill_rate","ctr"].includes(t.key)&&(e[t.key].sum="".concat(p(e[t.key].sum/ee.length)," ").concat(t.suffix)),"date"===t.key&&(e.date={sum:ee.length}),"app_id"===t.key&&(e.app_id={sum:$.length})})),e}),[ee,$]),se=function(){var e={};for(var t in ie)ae.includes(t)&&(e[t]={max:ie[t].max,min:ie[t].min});_(e)};Object(a.useEffect)((function(){var e;(null===(e=Object.keys(ie))||void 0===e?void 0:e.length)?se():_({})}),[ie]);var re=Object(a.useMemo)((function(){var e,t=[];return(null===(e=Object.keys(M))||void 0===e?void 0:e.length)>0&&(null===ee||void 0===ee?void 0:ee.length)&&(t=ee.filter((function(e){return Object.keys(M).every((function(t){return Math.round(e[t])>=M[t].min&&Math.round(e[t])<=M[t].max}))}))),(null===J||void 0===J?void 0:J.length)&&(t=t.filter((function(e){return J.includes(e.app_id)}))),t}),[ee,M,J]),le=Object(a.useMemo)((function(){var e=[];return(null===re||void 0===re?void 0:re.length)&&(e=null===re||void 0===re?void 0:re.map((function(e){var t;return Object(o.a)(Object(o.a)({},e),{},{id:e.app_id,date:Object(W.a)(new Date(e.date),"d MMM y"),app_id:null!==(t=Object(V.jsxs)("span",{className:"appImageWrapper",children:[Object(V.jsx)("img",{src:"data:image/png;base64,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",alt:ce[e.app_id]}),ce[e.app_id]]}))&&void 0!==t?t:"-",requests:f(e.requests),responses:f(e.responses),impressions:f(e.impressions),clicks:f(e.clicks),revenue:"$".concat(e.revenue),fill_rate:"".concat(e.fill_rate,"%"),ctr:"".concat(e.ctr,"%")})}))),e}),[re]),de=Object(a.useMemo)((function(){var e={};return ne.forEach((function(t){if(ae.includes(t.key)){var n=re.map((function(e){return isNaN(Math.round(e[t.key]))?0:Math.round(e[t.key])})),a=n.reduce((function(e,t){return e+t}),0),c=Math.max.apply(Math,Object(S.a)(n));e[t.key]={sum:a,min:0,max:c}}if(["requests","responses","clicks","impressions"].includes(t.key)){e[t.key].sum="".concat(p(e[t.key].sum/1e6)," ").concat(t.suffix)}if(["revenue"].includes(t.key)){e[t.key].sum="".concat(t.prefix).concat(Math.round(e[t.key].sum/1e3)).concat(t.suffix)}["fill_rate","ctr"].includes(t.key)&&(e[t.key].sum="".concat(p(e[t.key].sum/re.length)," ").concat(t.suffix)),"date"===t.key&&(e.date={sum:re.length}),"app_id"===t.key&&(e.app_id={sum:J.length>0?J.length:$.length})})),e}),[re,J]),oe=Object(a.useMemo)((function(){return g.filter((function(e){return e.show}))}),[g]),ue=function(e,t){_(Object(o.a)(Object(o.a)({},M),{},Object(w.a)({},e,t)))},je=function(e){X(e)};return Object(V.jsx)("section",{className:H.a.analyticsContainer,children:Object(V.jsxs)("div",{className:H.a.analyticsHeader,children:[Object(V.jsx)("div",{}),Object(V.jsx)("h3",{className:"heading3",children:"Analytics Page"}),Object(V.jsxs)("div",{className:H.a.analyticsFilter,children:[Object(V.jsxs)("span",{children:[Object(V.jsxs)(K,{iconName:"calendar",onClick:function(){v(!0)},children:[Object(W.a)(s[0],"MMM d")," - ",Object(W.a)(s[1],"MMM d y")]}),Object(V.jsx)("div",{className:H.a.dataRangePicker,children:Object(V.jsx)(T.a,{onChange:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],c=Object(u.a)(a,2),i=c[0],s=c[1];i=Object(W.a)(i,"yyyy-MM-dd"),s=Object(W.a)(s,"yyyy-MM-dd");var r=h(t,{start_date:i,end_date:s});e(C({startDate:i,endDate:s})),n.push({search:r}),l(a)},onCalendarClose:function(){m&&v(!1)},value:s,closeCalendar:!1,calendarIcon:null,isClose:!0,isOpen:m,format:"MM-dd-y"})})]}),Object(V.jsx)("span",{children:Object(V.jsxs)("ul",{className:"listInline",children:[Object(V.jsx)("li",{className:"listInlineItem mr16",children:Object(V.jsx)(K,{iconName:"sliders",onClick:function(){q(!0)},children:"Settings"})}),Object(V.jsx)("li",{className:"listInlineItem",children:Object(V.jsx)(B,{onClick:function(){se(),X([])},className:"primaryBtn",children:"Reset"})})]})})]}),L&&Object(V.jsx)(z,{tableHeaders:g,handleUpdateHeader:function(e){var a=e.filter((function(e){return e.show})).map((function(e){return e.id})).join(","),c=e.map((function(e){return e.id})).join(","),i=h(t,{show_headers:a,order:c});n.push({search:i})},handleClose:function(){q(!1)}}),(null===re||void 0===re?void 0:re.length)?Object(V.jsx)("div",{className:H.a.analyticsTableWrapper,children:Object(V.jsxs)("table",{children:[Object(V.jsx)("thead",{children:Object(V.jsx)("tr",{children:oe.map((function(e){return Object(V.jsx)("th",{children:Object(V.jsxs)("ul",{className:"listUnstyled",children:[Object(V.jsxs)("li",{children:[["app_id"].includes(e.key)&&Object(V.jsx)(Z,{apps:$,appFilterArray:J,handleUpdateAppFilter:je}),ae.includes(e.key)&&Object(V.jsx)(te,{id:e.key,min:ie[e.key].min,max:ie[e.key].max,filter_min:M[e.key].min,filter_max:M[e.key].max,handleUpdateTableRangeFilter:ue},e.key),["date"].includes(e.key)&&Object(V.jsx)(U.a,{name:"filter",size:"2x",style:{color:"#707070",cursor:"not-allowed"}})]}),Object(V.jsx)("li",{children:Object(V.jsx)("h5",{className:"heading5",children:e.label})}),Object(V.jsx)("li",{children:Object(V.jsx)("h1",{className:"heading1",children:de[e.key].sum})})]})},e.key)}))})}),Object(V.jsx)("tbody",{className:"heading5Reg",children:le.map((function(e,t){return Object(V.jsx)("tr",{children:oe.map((function(t,n){return Object(V.jsx)("td",{children:e[t.key]},n)}))},e.id+e.app_id+t)}))})]})}):Object(V.jsx)(Y,{})]})})}),{}),key:"analytics"}];var ie=function(){var e=Object(r.c)();return Object(a.useEffect)((function(){e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n,a="/apps";if(v(a).data&&(null===(n=Object.keys(v(a).data))||void 0===n?void 0:n.length)){var c=v(a).data[a].data;t(_(c))}else N("/apps",e).then((function(e){t(_(e.data.data)),y(a,e.data.data,e.cache_time)}))}}())}),[e]),Object(V.jsx)("div",{children:Object(V.jsx)(l.a,{children:Object(V.jsx)(d.c,{children:ce.map((function(e){var t=e.path,n=e.component,a=e.key;return Object(V.jsx)(d.a,{exact:!0,path:t,component:n},a)}))})})})},se=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,220)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),i(e),s(e)}))},re=n(23),le=n(97),de=n(98),oe=[],ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ANALYTICS":return Object(S.a)(t.payload);case"ADD_ANALYTICS":return[].concat(Object(S.a)(e),[Object(o.a)({},t.payload)]);case"RESET_ANALYTICS":return[];default:return Object(S.a)(e)}},je=[],be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_APPS":return Object(S.a)(t.payload);case"ADD_APPS":return[].concat(Object(S.a)(e),[Object(o.a)({},t.payload)]);case"RESET_APPS":return[];default:return Object(S.a)(e)}},pe=function(){var e=Object(re.combineReducers)({analytics:ue,apps:be});return Object(re.createStore)(e,Object(de.composeWithDevTools)(Object(re.applyMiddleware)(le.a)))}();s.a.render(Object(V.jsx)(c.a.StrictMode,{children:Object(V.jsx)(r.a,{store:pe,children:Object(V.jsx)(ie,{})})}),document.getElementById("root")),se()},25:function(e,t,n){e.exports={analyticsContainer:"analytics_analyticsContainer__HFg6K",analyticsHeader:"analytics_analyticsHeader__15RQJ",analyticsFilter:"analytics_analyticsFilter__IVzpG",dataRangePicker:"analytics_dataRangePicker__BL1jL",analyticsSettingsWrapper:"analytics_analyticsSettingsWrapper__2gh4L",filterOptions:"analytics_filterOptions__2M-fY",btnGroupWrapper:"analytics_btnGroupWrapper__1FhV0",analyticsTableWrapper:"analytics_analyticsTableWrapper__1Of6_"}}},[[213,1,2]]]);
//# sourceMappingURL=main.fb79cbaa.chunk.js.map